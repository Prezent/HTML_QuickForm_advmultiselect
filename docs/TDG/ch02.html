<html xmlns:cf="http://docbook.sourceforge.net/xmlns/chunkfast/1.0"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 2. FAQ - Frequently Asked Questions</title><link rel="stylesheet" href="book.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.69.0"><link rel="start" href="index.html" title="HTML_QuickForm_advmultiselect Manual"><link rel="up" href="pt01.html" title="Part I. Introduction"><link rel="prev" href="ch01s03.html" title="Why use HTML_QuickForm_advmultiselect ?"><link rel="next" href="pt02.html" title="Part II. Getting Started"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="qfamsHeader"><tr><td><img src="img/pearsmall.gif" align="left" alt="PEAR logo"><h1>HTML_QuickForm_advmultiselect : The Definitive Guide</h1><p><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 2. FAQ - Frequently Asked Questions</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch01s03.html">Prev</a> </td><th width="60%" align="center">Part I. Introduction</th><td width="20%" align="right"> <a accesskey="n" href="pt02.html">Next</a></td></tr></table></div></p></td></tr></table><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="faq"></a>Chapter 2. FAQ - Frequently Asked Questions</h2></div></div></div><div class="qandaset"><dl><dt>2.1.  <a href="ch02.html#id4724386">General questions</a></dt><dd><dl><dt>2.1.1. <a href="ch02.html#id4724363">What does it cost ?</a></dt><dt>2.1.2. <a href="ch02.html#id4724931">Do you offer support ?</a></dt><dt>2.1.3. <a href="ch02.html#id4724953">I found a bug, what shall i do ?</a></dt><dt>2.1.4. <a href="ch02.html#id4724977">What is HTML_QuickForm ?</a></dt><dt>2.1.5. <a href="ch02.html#id4725035">What is PEAR ?</a></dt></dl></dd><dt>2.2.  <a href="ch02.html#id4721713">How to</a></dt><dd><dl><dt>2.2.1. <a href="ch02.html#id4721718">May i use HTML_QuickForm_advmultiselect if my browser is no javascript compliant or if javascript is disabled ?</a></dt></dl></dd><dt>2.3.  <a href="ch02.html#id4721753">Troubleshooting guide</a></dt><dd><dl><dt>2.3.1. <a href="ch02.html#id4721758">The selected list has one blank entry that you can move to available list</a></dt></dl></dd></dl><table border="0" summary="Q and A Set"><col align="left" width="1%"><tbody><tr class="qandadiv"><td align="left" valign="top" colspan="2"><a name="id4724386"></a><h3 class="title"><a name="id4724386"></a>2.1. General questions</h3></td></tr><tr class="toc" colspan="2"><td align="left" valign="top" colspan="2"><dl><dt>2.1.1. <a href="ch02.html#id4724363">What does it cost ?</a></dt><dt>2.1.2. <a href="ch02.html#id4724931">Do you offer support ?</a></dt><dt>2.1.3. <a href="ch02.html#id4724953">I found a bug, what shall i do ?</a></dt><dt>2.1.4. <a href="ch02.html#id4724977">What is HTML_QuickForm ?</a></dt><dt>2.1.5. <a href="ch02.html#id4725035">What is PEAR ?</a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a name="id4724363"></a><a name="id4722448"></a><b>2.1.1.</b></td><td align="left" valign="top"><p>What does it cost ?</p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
     You can download and use it for free. But don't delete the copyright notice.
     You can read terms of the
     <a href="http://www.laurent-laville.org/index.php?mod=pear&amp;des=qfams&amp;act=license" target="_top">
      license
     </a>
    </p></td></tr><tr class="question"><td align="left" valign="top"><a name="id4724931"></a><a name="id4724933"></a><b>2.1.2.</b></td><td align="left" valign="top"><p>Do you offer support ?</p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
     YES if there is no answer in this Guide and if you are ready to share
     some informations such as : your configuration (platform Win *nix mac,
     PHP version, PEAR packages installed) and perharps your script.
    </p></td></tr><tr class="question"><td align="left" valign="top"><a name="id4724953"></a><a name="id4724955"></a><b>2.1.3.</b></td><td align="left" valign="top"><p>I found a bug, what shall i do ?</p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
     You can report it with the bug tracker at
     <a href="http://pear.php.net/package/HTML_QuickForm_advmultiselect/bugs" target="_top">PEAR</a>.
    </p></td></tr><tr class="question"><td align="left" valign="top"><a name="id4724977"></a><a name="id4724979"></a><b>2.1.4.</b></td><td align="left" valign="top"><p>What is HTML_QuickForm ?</p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
     <span class="bold"><strong>HTML_QuickForm</strong></span> is a PEAR package that provides
     methods for creating, validating and processing HTML forms.
    </p><p>
     The purpose of <a href="http://www.thelinuxconsultancy.co.uk/quickform.php" target="_top">Keith Edmunds</a>
     tutorial is to give the new users of QuickForm an overview of its features and usage patterns.
     It describes a small subset of available functionality.
    </p><p>
     Don't forget to read also the PEAR Manual,
     <a href="http://pear.php.net/manual/en/package.html.html-quickform.php" target="_top">HTML_QuickForm</a> related part.
    </p></td></tr><tr class="question"><td align="left" valign="top"><a name="id4725035"></a><a name="id4721916"></a><b>2.1.5.</b></td><td align="left" valign="top"><p>What is PEAR ?</p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
     PEAR (an acronym for
     <span class="bold"><strong>P</strong></span>HP
     <span class="bold"><strong>E</strong></span>xtension and
     <span class="bold"><strong>A</strong></span>pplication
     <span class="bold"><strong>R</strong></span>epository)
     is a framework and distribution system for reusable PHP components.
    </p><p>
     Don't forget to read also the <a href="http://pear.php.net/manual/en" target="_top">PEAR Manual</a>
     and <a href="http://pear.php.net/manual/en/faq.php" target="_top">PEAR FAQ</a>.
    </p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><a name="id4721713"></a><h3 class="title"><a name="id4721713"></a>2.2. How to</h3></td></tr><tr class="toc" colspan="2"><td align="left" valign="top" colspan="2"><dl><dt>2.2.1. <a href="ch02.html#id4721718">May i use HTML_QuickForm_advmultiselect if my browser is no javascript compliant or if javascript is disabled ?</a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a name="id4721718"></a><a name="id4721720"></a><b>2.2.1.</b></td><td align="left" valign="top"><p>May i use HTML_QuickForm_advmultiselect if my browser is no javascript compliant or if javascript is disabled ?</p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
     The dual multi-select won't work, but you can display a single
     multi select box witch checkboxes. To do so, you have to remove
     <span class="bold"><strong>{unselected}</strong></span> placeholder in the
     advmultiselect template element.
    </p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><a name="id4721753"></a><h3 class="title"><a name="id4721753"></a>2.3. Troubleshooting guide</h3></td></tr><tr class="toc" colspan="2"><td align="left" valign="top" colspan="2"><dl><dt>2.3.1. <a href="ch02.html#id4721758">The selected list has one blank entry that you can move to available list</a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a name="id4721758"></a><a name="id4721760"></a><b>2.3.1.</b></td><td align="left" valign="top"><p>The selected list has one blank entry that you can move to available list</p></td></tr><tr class="answer"><td align="left" valign="top"><b></b></td><td align="left" valign="top"><p>
     This problem comes when you set the selected list (see HTML_QuickForm::setDefaults() method)
     with a wrong data array.
    </p><p>
     Remember that the available list contains all datas (selected and unselected values).
     This list is an associative array of "key-code" =&gt; "display-value".
     While selected list is only an array of "key-code".
    </p><p>
     Suppose we have to retrieve information from a database (with PEAR::DB), and have
     a simple table for holding user info.
     This SQL statement creates a table usable under the default database scheme using MySQL:
     </p><pre class="programlisting">
CREATE TABLE user (
   userid VARCHAR(5) NOT NULL,
   gid INT NOT NULL,
   affect INT NOT NULL,
   lastname VARCHAR(50)NOT NULL,
   firstname VARCHAR(50) NOT NULL,
   PRIMARY KEY (userid)
);
     </pre><p>
     with values :
     </p><pre class="programlisting">
INSERT INTO user VALUES ('MJ001', 1, 0, 'Martin', 'Jansen');
INSERT INTO user VALUES ('BG001', 1, 1, 'Greg', 'Beaver');
INSERT INTO user VALUES ('CD001', 1, 0, 'Daniel', 'Convissor');
INSERT INTO user VALUES ('LL001', 2, 1, 'Laurent', 'Laville');
     </pre><p>
     Column <span class="emphasis"><em>gid</em></span> identify a user group, while <span class="emphasis"><em>userid</em></span>
     identify a single and unique user.
    </p><p>
     We will initialize AVAILABLE list (on left side if default template) by a
     db query something like that:
     </p><pre class="programlisting">
      
$queryAll = 'SELECT userid, CONCAT(lastname, " ", firstname) AS useridentity '
          . 'FROM user WHERE gid = 1';

      
     </pre><p>
     and get this array:
     </p><pre class="programlisting">
Array
(
    [MJ001] =&gt; Jansen Martin
    [BG001] =&gt; Beaver Greg
    [CD001] =&gt; Convissor Daniel
)
     </pre><p>
    </p><p>
     We will initialize SELECTED list (on right side if default template) by a
     db query something like that:
     </p><pre class="programlisting">
      
// Once you have a valid DataBase object named $db ...

$querySel = 'SELECT userid FROM user WHERE gid = 1 AND affect = 1';
$affected_user =&amp; $db-&gt;getCol($querySel);
      
     </pre><p>
     and get this array:
     </p><pre class="programlisting">
Array
(
    [0] =&gt; BG001
)
     </pre><p>
     </p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="48px"><img alt="[Caution]" src="img/admons/caution.png"></td><th align="left">Caution</th></tr><tr><td align="left" valign="top">
      Remember that only a key-code array is necessary, other data will make blank line
      into select box.
     </td></tr></table></div><p>
    </p><p>
     Remains stuff is basic, create the QFAMS element, and load options (available and selected)
     with the QF/select element <code class="methodname">load()</code> method.
     </p><pre class="programlisting">
      
// Once you have a valid QuickForm advmultiselect object named $ams in a QuickForm named $form ...

$ams =&amp; $form-&gt;addElement('advmultiselect', 'user',
    array('Users:', 'Available', 'Affected'),       // labels
    null,                                           // datas: "key-code" =&gt; "display-value"
    array('style' =&gt; 'width:200px;')                // custom layout
);
$ams-&gt;load($db, $queryAll, 'useridentity', 'userid', $affected_user);
      
     </pre><p>
     </p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="48px"><img alt="[Tip]" src="img/admons/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top">
      You may use the <code class="methodname">load()</code> method to set options
      from :
      <pre class="programlisting">
       
// 1. a php array
$all_user = array('MJ001' =&gt; 'Martin Jansen',
                  'BG001' =&gt; 'Greg Beaver',
                  'CD001' =&gt; 'Daniel Convissor'
);
$affected_user = array('BG001');
$ams-&gt;load($all_user, $affected_user);

// queries to get data
$queryAll = 'SELECT userid, CONCAT(lastname, " ", firstname) AS useridentity '
          . 'FROM user WHERE gid = 1';

$querySel = 'SELECT userid FROM user WHERE gid = 1 AND affect = 1';
$affected_user =&amp; $db-&gt;getCol($querySel);

// 2. a db result
$all_user =&amp; $db-&gt;query($queryAll);
$ams-&gt;load($all_user, 'useridentity', 'userid', $affected_user);

// 3. a db query
$ams-&gt;load($db, $queryAll, 'useridentity', 'userid', $affected_user);
       
      </pre></td></tr></table></div><p>
     </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="48px"><img alt="[Note]" src="img/admons/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top">
      This example is available in bundle (see examples/qfams_basic2.php)
     </td></tr></table></div><p>
    </p></td></tr></tbody></table></div></div><table class="qfamsFooter"><tr><td align="left">HTML_QuickForm_advmultiselect : The Definitive Guide</td><td align="right">v
        1.0.0 :
        September 1, 2005</td></tr></table><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch01s03.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="pt01.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="pt02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Why use HTML_QuickForm_advmultiselect ? </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Part II. Getting Started</td></tr></table></div></body></html>
